<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><title>Ansible Basic (1)</title><link rel="stylesheet" href="css/normalize.css"><link rel="stylesheet" href="/css/hexo-theme-adoubi.css"><link rel="icon" href="/images/favicon.ico"></head><body><div class="header"><a class="github-link"><img class="github-image" src="/images/Aquicon-Github-small.png"></a><a class="email-link" href="mailto:null"><img class="email-image" src="/images/email-small.png"></a><a class="subscribe-link" href="/atom.xml"><img class="subscribe-image" src="/images/subscribe-small.png"></a></div><div class="content"><div class="post-item"></div><h2 class="post-title-wrapper"><p class="post-title">Ansible Basic (1)</p></h2><div class="post-date"><time datetime="2017-09-07T12:03:23.000Z">2017-09-07</time></div><div class="post-content"><p>官方文档：<a href="http://docs.ansible.com/ansible/latest/intro.html" target="_blank" rel="external">http://docs.ansible.com/ansible/latest/intro.html</a></p>
<p>安装：<br>yum install -y ansible</p>
<p>添加主机到/etc/ansible/hosts中：<br>可以自定义组名进行分组，也可以部分组直接添加独立的主机：<br><img src="/images/Ansible-Basic-1_2.png" alt=""></p>
<p>使用ansible的ping模块测试：<br>可以只指定某台主机的IP地址（需要在/etc/ansible/hosts 文件中存在）：ansible 192.168.64.140 -m ping -k  （由于没有添加互相信任，因此需要添加-k参数来使用密码进行操作）</p>
<p>或者指定组名：ansible test -m ping -k</p>
<p>还可以直接对所有主机进行操作：ansible all -m ping -k</p>
<p>不需要输入密码直接对主机进行操作：<br>生成公钥密钥：ssh-keygen -t rsa</p>
<p>拷贝公钥到被控主机：ssh-copy-id -i /root/.ssh/id_rsa.pub root@192.168.64.140</p>
<p>现在就不需要输入密码就可以直接操控主机了：ansible test -m ping</p>
</div></div><div class="footer"><div class="footer-copyright">Theme By <a href="https://github.com/shinux/hexo-theme-adoubi">Adoubi</a> , Powered By Hexo.</div></div></body></html>